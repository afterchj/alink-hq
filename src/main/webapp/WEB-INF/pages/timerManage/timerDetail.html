<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" th:href="@{/static/font-awesome-4.7.0/css/font-awesome.min.css}"/>
    <link rel="stylesheet" href="/alink-hq/static/css/base.css">
    <!--<link rel="stylesheet" href="/alink-hq/static/css/common.css">-->
    <link rel="stylesheet" href="/alink-hq/static/css/leftNav.css">
    <link rel="stylesheet" href="/alink-hq/static/css/projectManage.css">
    <title>定时详情</title>
</head>

<body>

<div class="c-container">
    <div th:replace="common/head::head"></div>
    <div class="main clearfix">
        <div th:replace="common/left::left('timerDetail')"></div>
        <div class="main-right f-l">
            <div class="clearfix main-right-nav">
                <div class="f-l main-right-title">
                    <nav class="bread">
                        <ol class="clearfix">
                            <li class="f-l"><a th:href="@{/timer/list(id=${timeLine.mid})}">定时列表</a></li>
                            <li class="f-l">定时详情</li>
                        </ol>
                    </nav>
                </div>
                <!-- <div class="f-r pointer">
                    <img src="./img/create-project.png" alt="">
                </div> -->
                <div class="f-r pointer">
                    <div class="goBack" onClick="javascript :history.back(-1);" onmousedown="backBtnMouseDown()"
                         onmouseup="backBtnMouseUp()">
                        <span><</span><span>返回</span>
                    </div>
                    <!--<img src="/alink-hq/static/img/go-back.png" alt="" onclick="history.back()">-->
                </div>
            </div>
            <input type="hidden" class="ssid">
            <div id="timerDetail" class="table-content-list detail">
                <div class="p-detail">
                    <div class="p-nav">
                        <ul>
                            <li>定时名称：<label th:text="${timeLine.tname}"></label></li>
                            <li>周期：<label th:text="${timeLine.week}"></label></li>
                            <li>定时状态：<label th:text="${timeLine.state}"></label></li>
                        </ul>
                    </div>
                    <div class="p-content">
                        <!--<div id="timeD">-->
                            <div class="clearfix time">
                                <div class="f-l ">
                                    <span>隶属项目：</span>
                                    <span th:text="${projectName}"></span>
                                </div>
                                <div class="f-l">
                                    <span><a th:href="@{/project/detail(projectId=${projectId})}" shiro:hasPermission="viewProject">查看项目详情</a></span>
                                </div>
                            </div>
                            <div class="clearfix time">
                                <div class="f-l">
                                    <span>隶属网络：</span>
                                    <span th:text="${timeLine.mname}" id="mname"></span>&nbsp;&nbsp;&nbsp;
                                    <span>网络ID：</span>
                                    <span th:text="${timeLine.mesh_id}" id="mid"></span>
                                </div>
                                <div class="f-l">
                                    <span><a th:href="@{/mesh/info(id=${timeLine.mid})}" >查看网络详情</a></span>
                                </div>
                            </div>
                            <div class="clearfix timerDetail table">
                                <div class="time-table timer f-l">
                                    <table border="1" class="time-detail-table" id="timeTitle">
                                        <thead>
                                        <tr>
                                            <th><span>定时时间点</span></th>
                                            <th><span>应用状态</span></th>
                                            <!--<th><span>灯-X(色温)Y(亮度)</span></th>-->
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="timePoint:${timePointList}">
                                            <td><span th:text="${timePoint.time}"></span></td>
                                            <td th:if="${timePoint.sname!=null}">
                                            <span class="a-span" >
                                                <a th:text="${timePoint.sname}" href="javascript:void(0);" class="sname-a" style="cursor:pointer; padding: 5px;"></a>
                                                <input type="hidden" class="sid" th:value="${timePoint.sid}">
                                                <input type="hidden" class="sceneName" th:value="${timePoint.scene_id}">
                                            </span>
                                            <span>
                                                <span  class="a-span" style="width:30px;color:#ccc;" shiro:hasPermission="viewScene">|</span>
                                            </span>
                                                <span  class="a-span"><a th:href="@{/scene/detail(sid=${timePoint.sid},sceneName=${timePoint.sname},sceneId=${timePoint.scene_id},meshName=${timeLine.mname},meshId=${timeLine.mesh_id})}" shiro:hasPermission="viewScene">查看详情</a></span>
                                            </td>
                                            <td th:if="${timePoint.sname==null}">
                                                <span class="a-span"  th:text="${timePoint.state}"></span>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        <!--</div>-->

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="/alink-hq/static/js/jquery.min.js"></script>
<!--<script src="/alink-hq/static/js/jquery.freezeheader.js"></script>-->
<script  src="/alink-hq/static/js/left.js"></script>
<script src="/alink-hq/static/js/moment.js"></script>
<script src="/alink-hq/static/js/timerDetail.js"></script>
<script th:inline="javascript">

</script>
</body>

</html>