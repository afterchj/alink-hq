<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/alink-hq/static/css/base.css" />
    <link rel="stylesheet" href="/alink-hq/static/css/leftNav.css" />
    <link rel="stylesheet" href="/alink-hq/static/css/account.css" />
    <title>绑定邮箱</title>
</head>

<body>
    <div class="clearfix main-right-nav">
        <div class="f-l main-right-title">绑定邮箱</div>
        <div class="f-r pointer">
            <img src="/alink-hq/static/img/go-back.png" alt="" />
        </div>
    </div>
    <div id="bindEmail">
        <div class="b-bindEmail">
            <div class="b-nav">
                绑定邮箱
            </div>
            <div class="b-content ">
                <form action="" class=" " onsubmit="return vEamil()">
                    <div>
                        <p class="email-hint" style="height: 35px;"></p>
                        <label for="">邮箱：</label>
                        <input type="text" placeholder="请输入邮箱" id="email">
                    </div>
                    <div class="verification-code">
                        <p class="code-hint" style="height: 35px;">激活码已超时，请重新获取</p>
                        <label for="">激活码：</label>
                        <input type="text" placeholder="请输入激活码" id="code">
                        <button type="button" class="security-code">获取激活码</button>
                    </div>
                    <div class="submit-btn">
                        <button type="submit">立即绑定</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="/alink-hq/static/js/jquery.min.js"></script>
    <script>
        // 验证邮箱号
        function vEamil() {
            var emailVal = $('#email').val();
            var codeVal = $('#code').val();
            var email = /^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;
            var emailResult = email.test(emailVal);
            if (emailVal == '') {
                $('p.email-hint').addClass('active').text('请输入邮箱号');
                return false;
            } else if (!emailResult) {
                $('p.email-hint').removeClass('active').text('');
                $('p.email-hint').addClass('active').text('邮箱号格式不正确');
                return false;
            } else if (codeVal == '') {
                $('p.email-hint').removeClass('active').text('');
                $('p.code-hint').addClass('active').text('请输入验证码');
                return false;
            } else {
                $('p.code-hint').removeClass('active').text('');
                var title = "邮箱";
                var content = "绑定";
                parent.loding(title, content);
            }
        }

        //验证码倒计时
        $(function () {
            $('.security-code').click(function () {
                $(this).addClass('active');
                settime(this);
            })
            var countdown = 60;

            function settime(obj) {
                if (countdown == 0) {
                    obj.removeAttribute("disabled");
                    obj.innerHTML = "获取验证码";
                    countdown = 60;
                    return;
                } else {
                    obj.setAttribute("disabled", true);
                    obj.style.background = "#A0A0A0";
                    obj.style.borderColor = "#A0A0A0";
                    obj.innerHTML = "已发送(" + countdown + ')';
                    countdown--;
                }
                setTimeout(function () {
                    settime(obj)
                }, 1000)
            }
        })
    </script>
</body>

</html>