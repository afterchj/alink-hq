<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/alink-hq/static/css/base.css" />
    <link rel="stylesheet" href="/alink-hq/static/css/leftNav.css" />
    <link rel="stylesheet" href="/alink-hq/static/css/account.css" />
    <title>绑定手机号</title>
</head>

<body>
    <div class="clearfix main-right-nav">
        <div class="f-l main-right-title">绑定手机号</div>
        <div class="f-r pointer">
            <img src="/alink-hq/static/img/go-back.png" alt="">
        </div>
    </div>
    <div id="bindPhone">
        <div class="b-bindPhone">
            <div class="b-nav">
                绑定手机号
            </div>
            <div class="b-content ">
                <form action="" class=" " onsubmit="return vPhone()">
                    <div style="margin-bottom:10px;">
                        <p class="phone-hint" style="height: 35px;"></p>
                        <label for="">手机号：</label>
                        <input type="phone" placeholder="请输入手机号" id="phone">
                    </div>
                    <div class="verification-code" >
                        <p class="code-hint" style="height: 35px;">验证码已超时，请重新获取</p>
                        <label for="">验证码：</label>
                        <input type="password" placeholder="请再次输入验证码" id="code">
                        <button type="button" class="security-code">获取验证码</button>
                    </div>
                    <div class="submit-btn">
                        <button type="submit">立即绑定</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="/alink-hq/static/js/jquery.min.js"></script>
    <script>
        // 验证手机号
        function vPhone() {
            var phoneVal = $('#phone').val();
            var codeVal = $('#code').val();
            var phone = /^[1][3,4,5,7,8,9][0-9]{9}$/;
            var phoneResult = phone.test(phoneVal);
            if (phoneVal == '') {
                $('p.phone-hint').addClass('active').text('请输入手机号');
                return false;
            } else if (!phoneResult) {
                $('p.phone-hint').removeClass('active').text('');
                $('p.phone-hint').addClass('active').text('手机号格式不正确');
                return false;
            } else if (codeVal == '') {
                $('p.phone-hint').removeClass('active').text('');
                $('p.code-hint').addClass('active').text('请输入验证码');
                return false;
            } else {
                $('p.code-hint').removeClass('active').text('');
                var title = "手机";
                var content = "绑定";
                parent.loding(title, content);
            }
        }

        //验证码倒计时
        $(function () {
            $('.security-code').click(function () {
                $(this).addClass('active');
                settime(this);
            })
            var countdown = 60;

            function settime(obj) {
                if (countdown == 0) {
                    obj.removeAttribute("disabled");
                    obj.innerHTML = "获取验证码";
                    countdown = 60;
                    return;
                } else {
                    obj.setAttribute("disabled", true);
                    obj.style.background = "#A0A0A0";
                    obj.style.borderColor = "#A0A0A0";
                    obj.innerHTML = "已发送(" + countdown + ')';
                    countdown--;
                }
                setTimeout(function () {
                    settime(obj)
                }, 1000)
            }
        })
    </script>
</body>

</html>