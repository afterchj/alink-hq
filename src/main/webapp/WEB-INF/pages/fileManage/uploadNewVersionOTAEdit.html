<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" th:href="@{/static/font-awesome-4.7.0/css/font-awesome.min.css}"/>
    <link rel="stylesheet" href="/alink-hq/static/css/base.css">
    <!--<link rel="stylesheet" href="/alink-hq/static/css/common.css">-->
    <link rel="stylesheet" href="/alink-hq/static/css/leftNav.css">
    <link rel="stylesheet" href="/alink-hq/static/css/projectManage.css">
    <script th:src="@{/static/js/jquery.min.js}"></script>
    <!--<script th:src="@{/static/js/upload.js}"></script>-->
    <title>上传新版本</title>
</head>
<body>
<div class="c-container">
    <div th:replace="common/head::head"></div>
    <div class="main clearfix">
        <div th:replace="common/left::left('otaFile')"></div>
        <div class="main-right f-l">
            <div class="clearfix main-right-nav">
                <div class="f-l main-right-title">
                    <nav class="bread">
                        <ol class="clearfix">
                            <li class="f-l"><a th:href="@{/file/OTAFile}" th:text="${file.otaName} "></a></li>
                            <li class="f-l">上传新版本</li>
                        </ol>
                    </nav>
                </div>
                <!-- <div class="f-r pointer">
                    <img src="./img/create-project.png" alt="">
                </div> -->
                <div class="f-r pointer">
                    <div class="goBack" onClick="javascript :history.back();" onmousedown="backBtnMouseDown()"
                         onmouseup="backBtnMouseUp()">
                        <span><</span><span>返回</span>
                    </div>
                    <!--<img src="/alink-hq/static/img/go-back.png" alt="" onclick="history.back()">-->
                </div>
            </div>
            <div  class="table-content-list detail">
                <div class="p-detail">
                    <div class="p-nav">上传新版本</div>
                    <div class="p-content p-r">
                        <!--<div th:text="${file}"></div>-->
                        <!--第二步--已上传-->
                        <form th:action="@{/file/doUpload(type='edit')}" method="post" enctype="multipart/form-data" class="hasUpload active">
                            <input type="hidden" name="id" th:value="${file.id}">
                            <!--<input type="hidden" name="oid" th:value="${file.oid}">-->
                            <fieldset>
                                <div class="form-row clearfix">
                                    <div class="field-label">
                                        <label>选择文件</label>：
                                    </div>
                                    <div class="field-widget p-r" >
                                        <p class="p-a verify"></p>
                                        <input type="text" class="filename falseFile " readonly=""  th:value="${#strings.substringAfter(file.otaPath,'ota/')}">
                                        <input type="button" class="button upload" value="重新上传" style="right: 0;left: auto;top: 0;">
                                        <input type="file" name="file" size="30"   class="trueFile" >
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="field-label">
                                        <label>固件名称</label>：
                                    </div>
                                    <div class="field-widget p-r">
                                        <p class="p-a verify"></p>
                                        <input type="text" name="otaName " class="readonly " id="otaName"  placeholder="请输入固件名称" th:value="${file.otaName}" readonly>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="field-label ">
                                        <label style="letter-spacing: 3.6px;">固件ID</label>：
                                    </div>
                                    <div class="field-widget p-r">
                                        <p class="p-a verify"></p>
                                        <input type="text" class="readonly " name="otaId" id="otaID"  placeholder="请输入固件ID" th:value="${file.otaId}" readonly>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="field-label ">
                                        <label><span>*</span>固件版本</label>：
                                    </div>
                                    <div class="field-widget p-r">
                                        <p class="p-a verify"></p>
                                        <input type="text" name="otaVersion" id="otaVersion"  placeholder="请输入固件版本" th:value="${file.otaVersion}">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="field-label">
                                        <label >更新日志</label>：
                                    </div>
                                    <div class="field-widget p-r">
                                        <p class="p-a verify"></p>
                                        <!--<textarea name="otaDesc" id="otaDescribe" placeholder="请输入更新日志" th:text="${file.otaDesc}"></textarea>-->
                                        <textarea name="otaDesc" id="otaDescribe" placeholder="请输入更新日志" ></textarea>
                                    </div>
                                </div>
                                <div class="form-row submit">
                                    <button type="button" id="submitNewVersion">确定</button>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- 新增固件 -->
<div class="pop-iframe" openContent="add-OTA">
    <div class=" p-r pop-nav">
        温馨提示
    </div>
    <div class="pop-content">
        <div class="reset-pwd">
            <i class="fa fa-check-circle fa-3x" aria-hidden="true" style="display: block;color:#00A0E9;"></i>
            <p>保存成功！</p>
        </div>
        <!--<div class="reset-pwd-hint">（删除后项目中所有信息将无法恢复，请慎重！）</div>-->
        <div class="pop-btn">
            <button class="reduce" style="width: auto;letter-spacing: 2px;display: inline-block;font-size: 15px;">再想想</button>
            <button class="yes" style="width: auto;letter-spacing: 2px;display: inline-block;font-size: 15px;">上传新版本</button>
        </div>
    </div>
</div>
<div class="hide-iframe "></div>
<script th:src="@{/static/js/left.js}"></script>
<script th:src="@{/static/js/moment.js}"></script>
<script th:src="@{/static/js/uploadNewVersionOTAEdit.js}"></script>
</body>
</html>