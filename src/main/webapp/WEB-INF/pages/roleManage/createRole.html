<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
    <title>创建角色</title>
    <script type="text/javascript" th:src="@{/static/js/browser.js}"></script>
    <script type="text/javascript" th:src="@{/static/js/jquery.min.js}"></script>
    <link rel="stylesheet" th:href="@{/static/css/common.css}"/>
    <link rel="stylesheet" th:href="@{/static/font-awesome-4.7.0/css/font-awesome.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/css/base.css}"/>
    <link rel="stylesheet" th:href="@{/static/css/leftNav.css}"/>
    <link rel="stylesheet" th:href="@{/static/css/projectManage.css}"/>
    <link rel="stylesheet" th:href="@{/static/css/role.css}"/>
</head>
<body>
<div class="c-container">
    <div th:replace="common/head::head"></div>
    <div class="main clearfix">
        <div th:replace="common/left::left('createRole')"></div>
        <div class="main-right f-l">
            <div class="clearfix main-right-nav">
                <div class="f-l main-right-title font">
                    <nav class="bread">
                        <ol class="clearfix">
                            <li class="f-l"><a th:href="@{/role/list}">角色列表</a></li>
                            <li class="f-l">创建角色</li>
                        </ol>
                    </nav>
                </div>
                <div class="f-r pointer">
                    <div class="goBack" onClick="javascript :history.back(-1);" onmousedown="backBtnMouseDown()"
                         onmouseup="backBtnMouseUp()">
                        <span><</span><span>返回</span>
                    </div>
                </div>
            </div>

            <div id="createRole" class="table-content-list">
                <div class="p-detail">
                    <div class="p-nav">
                        创建角色
                    </div>
                    <div class="p-content ">
                        <div class="createRole">
                            <p class="role-hint"></p>
                            <div >
                                <label >角色名称：</label>
                                <input type="text" id="roleName" placeholder="请输入（2-6位汉字、字母、数字）">
                            </div>
                            <div >
                                <button type="button" class="confirm-create">确定创建</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script th:src="@{/static/js/left.js}"></script>
<script th:src="@{/static/js/role.js}"></script>
<script th:src="@{/static/js/moment.js}"></script>
<script>
    var regUserName = /^[a-zA-Z0-9\u4e00-\u9fa5]{2,6}$/;

    $('.confirm-create').click(function(){
        var roleName = $("#roleName").val();
        var roleNameResult = regUserName.test(roleName);
        if(roleName==''){
            $('p.role-hint').text('请输入角色名称')
        }else if(!roleNameResult){
            $('p.role-hint').text('请输入2-6位汉字、字母、数字')
        }else{
            $('p.role-hint').text('')
        }
    })
    $("#roleName").bind('input propertychange', function () {
        var roleName = $(this).val();
        var roleNameResult = regUserName.test(roleName);
        if(roleName==''){
            $('p.role-hint').text('请输入角色名称')
        }else if(!roleNameResult){
            $('p.role-hint').text('请输入2-6位汉字、字母、数字')
        }else{
            $('p.role-hint').text('')
        }
    })
</script>
</body>
</html>